var app=angular.module("app",[]);app.controller("homeController",[function(){var t=this;t.title="Premier Predictions"}]),app.controller("showFixturesController",["predictionObjectFactory","fixturesFactory","calculatePointsService","getResultsService",function(t,e,r,n){function a(t,e){for(var r=0;r<t.length;r++)t[r].homeGoals=e[r].homeGoals,t[r].awayGoals=e[r].awayGoals}function i(){n.requestResults().then(function(t){var t=t.data;return t}).then(function(t){})}var u=this;e.run.then(function(e){u.fixtures=e,u.fixtureAmount=u.fixtures.length,u.predictions=t.run(u.fixtureAmount),a(u.fixtures,u.predictions)}),u.calculate=function(){u.points=r.run(u)},i()}]),app.factory("displayFixtures",["getFixtures","makeFixtures",function(t,e){return{createFixtures:t.requestFixtures().then(function(t){var e=t.data.data;return e}).then(function(t){return array=e.loopFixtures(t),array})}}]),app.factory("fixturesFactory",["displayFixtures",function(t){return{run:t.createFixtures.then(function(t){var e=t;return self.data=e,e})}}]),app.service("getFixtures",["$http","$q",function(t,e){var r=this;return r.requestFixtures=function(){return t.get("/app/example-data/fixtures.json").success(function(t){return t})},r}]),app.service("makeFixtures",[function(){this.loopFixtures=function(t){list=[];for(var e=0;e<t.length;e++)if(1===t[e].gameweek){var r={};r.homeTeam=t[e].home,r.awayTeam=t[e].away,r.date=t[e].date,r.index=[e],list.push(r)}return list}}]),app.service("getResultsService",["$http",function(t){var e=this;e.requestResults=function(){return t.get("/app/example-data/results.json").success(function(t){return t})}}]),app.factory("predictionObjectFactory",[function(){return{run:function(t){for(var e=[],r=0;t>r;r++){var n={};n.homeGoals=0,n.awayGoals=0,n.index=r,e.push(n)}return e}}}]),app.service("calculatePointsService",[function(){function t(t,e){return t>e?"homeWin":e>t?"awayWin":t===e?"draw":void console.error("Error in calculateResult()")}this.run=function(e){for(var r=0,n=0;n<e.fixtureAmount;n++){var a=e.fixtures[n].homeGoals,i=e.fixtures[n].awayGoals,u=e.predictions[n].homeGoals,o=e.predictions[n].awayGoals;r+=a===u&&i===o?3:t(a,i)===t(u,o)?1:0}return r}}]);